new class{constructor(t,e){this.$el=document.querySelector(t),this.options=e,this.selectedId=null,this.render(),this.setup()}render(){const{placeholder:t,allowSearch:e,data:s}=this.options;this.$el.innerHTML=((t,e,s)=>`\n\t\t<div class="select">\n\t\t\t<div class="select__input" data-type="input">\n\t\t\t\t<span data-type="value">${s??"Please select option"}</span>\n\t\t\t\t<i class="fa fa-chevron-up" data-type="arrow"></i>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="select__dropdown">\n\t\t\t\t${e?'<input type="text" class="select__search" data-type="search" />':""}\n\t\t\t\t<ul class="select__list" data-type="list-item">\n\t\t\t\t\t${t.map((t=>`<li class="select__item" data-type="item" data-id=${t.id}>${t.value}</li>`)).join("")}\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t</div>`)(s,e,t)}setup(){this.$input="",this.$el.classList.add("select"),document.addEventListener("click",this.documentClickHandler.bind(this)),this.$arrow=this.$el.querySelector('[data-type="arrow"]'),this.$value=this.$el.querySelector('[data-type="value"]'),this.$listItems=this.$el.querySelector('[data-type="list-item"]'),this.options.allowSearch&&(this.$el.addEventListener("keyup",this.keyupHandler.bind(this)),this.$input=this.$el.querySelector('[data-type="search"]'))}documentClickHandler(t){const{type:e,id:s}=t.target.dataset;["input","value","arrow"].includes(e)?this.toggle():"item"===e?this.select(s):"search"!==e&&this.close()}keyupHandler(t){const e=t.target.value.toLowerCase(),{data:s}=this.options,i=((t,e)=>t.filter((t=>{if(t.value.toLowerCase().includes(e))return t})))(s,e);i.length?this._renderItems(i):this.$listItems.innerHTML='<li class="select__item">No items found</li>'}_renderItems(t){const e=t.map((t=>`<li class="select__item ${t.id==this.selectedId?"selected":""}" data-type="item" data-id=${t.id}>${t.value}</li>`)).join("");this.$listItems.innerHTML=e}select(t){this.selectedId=t,this.$value.textContent=this.current.value,this.$el.querySelectorAll('[data-type="item"]').forEach((t=>t.classList.remove("selected"))),this.$el.querySelector(`[data-id="${t}"]`).classList.add("selected"),this.close()}get current(){return this.options.data.find((t=>t.id==this.selectedId))}isOpen(){return this.$el.classList.contains("open")}open(){const{data:t}=this.options;this.$el.classList.add("open"),this.$arrow.classList.add("fa-chevron-down"),this.$arrow.classList.remove("fa-chevron-up"),this._renderItems(t)}close(){const{data:t}=this.options;this.$el.classList.remove("open"),this.$arrow.classList.add("fa-chevron-up"),this.$arrow.classList.remove("fa-chevron-down"),this.$input.value&&(this._renderItems(t),this.$input.value="")}toggle(){this.isOpen()?this.close():this.open()}}("#select",{placeholder:"Please select item",allowSearch:!0,data:[{id:1,value:"Milk"},{id:2,value:"Water"},{id:3,value:"Bread"},{id:4,value:"Orange"},{id:5,value:"Cucumber"},{id:6,value:"Pumpkins"},{id:7,value:"Onion"},{id:8,value:"Meat"}]});
//# sourceMappingURL=index.62e98e02.js.map
